\def\capfigure{figure}
\def\captable{table}
\long\def\@makecaption#1#2{%
\vskip\abovecaptionskip
\ifx\@captype\capfigure
\centering #1~--~#2 \par
\else
#1~--~#2 \par
\fi
\vskip\belowcaptionskip}

\makeatletter
% запрещаем переносы в названиях секций
\renewcommand{\section}{\@startsection{section}{1}{0pt}%
                                {-3.5ex plus -1ex minus -.2ex}%
                                {2.3ex plus .2ex}%
{\centering\normalfont\Large\bfseries}}

\makeatother


\makeatletter % эта строка НЕОБХОДИМА!
\renewcommand{\@chapapp}{РОЗДІЛ } % необязательная строчка.
% определяет значение \@chapapp (используется ниже)
\renewcommand{\@makechapterhead}[1]{% Начало макроопределения
\vspace*{0 pt}% Пустое место вверху страницы
{\parindent=0pt
%\raggedright 
\centering\hyphenpenalty=10000\normalfont\Large\bfseries
\@chapapp{} % \@chapapp печатает слово "Glava" (см. выше)
% вот эту строку
\thechapter. \par % номер главы - в отдельной строке
% и ещё вот эту я убрал, и у меня наступило ШЧАСТЬЕ
% \thechapter -- печать счётчика глав; \par -- насильственно
% закончить абзац
\vspace{0 pt} % между словом "Glava" и ее заголовком
% и ещё эту строчку я грохнул, ибо нефиг
\centering\normalfont\Large\bfseries #1\par % заголовок главы
\nopagebreak % чтоб не оторвать заголовок от текста
\vspace{10 pt} % между заголовком и текстом
}% конец группы.
}% конец макроопределения
\makeatother % эта строка НЕОБХОДИМА!


\lstloadlanguages{PHP,HTML}%Загружаемые языки



\lstset{inputencoding=utf8,
   extendedchars=false,
   %         stringstyle=\usefont{T2A}{fcr}{b}{n},
   language=PHP, %Язык по умолчанию Code langugage
   belowcaptionskip=5pt,
   basicstyle=\usefont{T2A}{fcr}{m}{n}\footnotesize\ttfamily,
   % keywordstyle=\color{OliveGreen},        % Keywords font ('*' = uppercase)
   commentstyle=\color{gray},              % Comments font
   keywordstyle=\usefont{T2A}{fcr}{b}{n},        % Keywords font ('*' = uppercase)
   % commentstyle=\usefont{T2A}{fcr}{m}{sl},              % Comments font
%   numbers=left,                           % Line nums position
%   numberstyle=\tiny,                      % Line-numbers fonts
%   stepnumber=1,                           % Step between two line-numbers
%   numbersep=5pt,                          % How far are line-numbers from code
   % backgroundcolor=\color{lightlightgray}, % Choose background color
   frame=tb,                             % A frame around the code
   tabsize=2,                              % Default tab size
   captionpos=t,                           % Caption-position = bottom
   breaklines=true,                        % Automatic line breaking?
   breakatwhitespace=true,                % Automatic breaks only at whitespace?
   showspaces=false,                       % Dont make spaces visible
   showtabs=false,                         % Dont make tabls visible
   columns=flexible,                       % Column format
   morekeywords={__global__, __device__},  % CUDA specific keywords
   keepspaces = true   %!!!! пробелы в комментариях
}







\renewcommand{\lstlistingname}{Лістинг }